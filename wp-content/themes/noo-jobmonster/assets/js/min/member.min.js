!function(e){"use strict";e(document).ready(function(){e(document).on("click",".add-new-location-btn",function(o){return o.stopPropagation(),o.preventDefault(),e(".add-new-location-content").toggle(),!1}),e(document).on("click",".add-new-location-submit",function(o){o.stopPropagation(),o.preventDefault();var n=e(this),a=n.closest(".add-new-location-content").find("input").val();return""!=e.trim(a)&&e.post(nooMemberL10n.ajax_url,{action:"add_new_job_location",location:a,security:nooMemberL10n.ajax_security},function(o){if(1==o.success){n.closest(".add-new-location-content").find("input").val("");var a=e("<option>");a.text(o.location_title).val(o.location_value),a.prop("selected",!0).attr("selected","selected"),n.closest(".form-group").find(".form-control-chosen").append(a),n.closest(".form-group").find(".form-control-chosen").trigger("liszt:updated"),n.closest(".form-group").find(".form-control-chosen").trigger("chosen:updated")}},"json"),!1}),e(document).on("click",".member-register-link",function(o){return o.stopPropagation(),o.preventDefault(),e(".memberModalLogin").modal("hide"),e(".memberModalRegister").modal("show"),!1}),e(document).on("click",".member-login-link",function(o){return o.stopPropagation(),o.preventDefault(),e(".memberModalLogin").modal("show"),e(".memberModalRegister").modal("hide"),!1}),e("form.noo-ajax-login-form").on("submit",function(o){o.stopPropagation(),o.preventDefault();var n=e(this);return n.find(".noo-ajax-result").show().html(nooMemberL10n.loadingmessage),e.ajax({type:"POST",dataType:"json",url:nooMemberL10n.ajax_url,data:{action:"noo_ajax_login",log:n.find(".log").val(),pwd:n.find(".pwd").val(),remember:n.find(".rememberme").is(":checked")?!0:!1,security:n.find(".security").val(),redirect_to:n.find(".redirect_to").length?n.find(".redirect_to").val():""},success:function(o){"object"==typeof o?(n.find(".noo-ajax-result").show().html(o.message),1==o.loggedin&&(e("body").hasClass("interim-login")?(e("body").addClass("interim-login-success"),e(".wp-auth-check-close",window.parent.document).click()):null==o.redirecturl?document.location.reload():document.location.href=o.redirecturl)):document.location.reload()},complete:function(){},error:function(){n.off("submit"),n.submit()}}),!1}),e(".job-manage-action.action-delete").click(function(){return confirm(nooMemberL10n.confirm_delete)}),e("form.noo-ajax-register-form").on("submit",function(o){o.stopPropagation(),o.preventDefault();var n=e(this);if(n.find(".account_reg_term").length>0&&!n.find(".account_reg_term").is(":checked"))return n.find(".noo-ajax-result").hide(),alert(nooMemberL10n.confirm_not_agree_term),!1;n.find(".noo-ajax-result").show().html(nooMemberL10n.loadingmessage);var a=n.serializeArray();return a.push({name:"security_code",value:n.find(".security_code").data("security-code")}),e.ajax({type:"POST",dataType:"json",url:nooMemberL10n.ajax_url,data:a,success:function(e){"object"==typeof e?(n.find(".noo-ajax-result").show().html(e.message),1==e.success&&("undefined"!=typeof e.redirecturl&&null!=e.redirecturl?document.location.href=e.redirecturl:document.location.reload())):document.location.reload()},complete:function(){},error:function(){n.off("submit"),n.submit()}}),!1}),e("form#candidate_profile_form").validate({onkeyup:!1,errorClass:"jform-error",validClass:"jform-valid",errorElement:"span",ignore:":hidden:not(.ignore-valid)",errorPlacement:function(e,o){o.is(":radio")||o.is(":checkbox")||o.is(":file")?e.appendTo(o.parent().parent()):e.appendTo(o.parent())}}),e("form#noo-ajax-update-password").validate({onkeyup:!1,errorClass:"jform-error",validClass:"jform-valid",errorElement:"span",ignore:":hidden:not(.ignore-valid)",errorPlacement:function(e,o){o.is(":radio")||o.is(":checkbox")||o.is(":file")?e.appendTo(o.parent().parent()):e.appendTo(o.parent())},submitHandler:function(o){var n=e(o);n.find(".noo-ajax-result").show().html(nooMemberL10n.loadingmessage),e.ajax({type:"POST",dataType:"json",url:nooMemberL10n.ajax_url,data:n.serializeArray(),success:function(e){n.find(".noo-ajax-result").show().html(e.message),1==e.success&&(null==e.redirecturl?document.location.reload():document.location.href=e.redirecturl)},complete:function(){},error:function(){n.off("submit"),n.submit()}})}}),e("form#noo-ajax-update-password").on("submit",function(o){o.stopPropagation(),o.preventDefault(),e(this).validate()}),e("form#post_resume_form").validate({onkeyup:!1,errorClass:"jform-error",validClass:"jform-valid",errorElement:"span",ignore:":hidden:not(.ignore-valid)",errorPlacement:function(e,o){o.is(":radio")||o.is(":checkbox")||o.is(":file")?e.appendTo(o.parent().parent()):e.appendTo(o.parent())}}),e("form#add_job_alert_form").validate({onkeyup:!1,errorClass:"jform-error",validClass:"jform-valid",errorElement:"span",ignore:":hidden:not(.ignore-valid)",errorPlacement:function(e,o){o.is(":radio")||o.is(":checkbox")||o.is(":file")?e.appendTo(o.parent().parent()):e.appendTo(o.parent())}}),e(".noo-clone-fields").on("click",function(){var o=e(this),n=e(o.data("template"));return o.closest(".noo-metabox-addable").find(".noo-addable-fields").append(n),n.find(".form-control-editor").wysihtml5({"font-styles":!0,blockquote:!0,emphasis:!0,lists:!0,html:!0,link:!0,image:!0,stylesheets:[wysihtml5L10n.stylesheet_rtl]}),n.find("input:first-child").focus(),!1}),e(".noo-remove-fields").on("click",function(){var o=e(this).closest(".noo-metabox-addable").find(".noo-addable-fields .fields-group:last");return o.length&&o.remove(),!1}),e(document).on("click",".member-manage-action.approve-reject-action",function(o){o.preventDefault(),o.stopPropagation();var n=e(this);return n.closest(".member-manage-table").block({message:null,overlayCSS:{backgroundColor:"#fff",opacity:.5,cursor:"wait"}}),e.post(nooMemberL10n.ajax_url,{action:"noo_approve_reject_application_modal",application_id:n.data("application-id"),hander:n.data("hander"),security:nooMemberL10n.ajax_security},function(o){if(n.closest(".member-manage-table").unblock(),o){var a=e(o);e("body").append(a),a.modal("show"),e("form#noo-ajax-approve-reject-application-form").validate({onkeyup:!1,onfocusout:!1,onclick:!1,errorClass:"jform-error",validClass:"jform-valid",errorElement:"span",ignore:":hidden:not(.ignore-valid)",errorPlacement:function(e,o){o.is(":radio")||o.is(":checkbox")||o.is(":file")?e.appendTo(o.parent().parent()):e.appendTo(o.parent())}}),a.on("hidden.bs.modal",function(){a.remove()})}}),!1}),e("a.bookmark-job").on("click",function(){var o=e(this),n=o.hasClass("bookmarked");return e.ajax({type:"POST",dataType:"json",url:nooMemberL10n.ajax_url,data:{action:o.attr("data-action"),security:o.attr("data-security"),job_id:o.attr("data-job-id")},success:function(a){e(".noo-ajax-result").show().html(a.message),1==a.success&&(n?o.removeClass("bookmarked"):o.addClass("bookmarked"),o.closest(".job-action").find(".noo-ajax-result").show().html(a.message),null==a.redirecturl||(document.location.href=a.redirecturl))},complete:function(){},error:function(){}}),!1}),e(document).on("click",".member-manage-action.view-employer-message",function(o){o.preventDefault(),o.stopPropagation();var n=e(this);n.closest(".member-manage-table").block({message:null,overlayCSS:{backgroundColor:"#fff",opacity:.5,cursor:"wait"}}),e.post(nooMemberL10n.ajax_url,{action:"noo_employer_message_application_modal",application_id:n.data("application-id"),security:nooMemberL10n.ajax_security,mode:n.data("mode")||0},function(o){if(n.closest(".member-manage-table").unblock(),o){var a=e(o);e("body").append(a),a.modal("show"),a.on("hidden.bs.modal",function(){a.remove()})}})}),e(".job-preview").find('[type="submit"]').addClass("disabled"),e(document).on("click",".job-preview",function(){var o=e("input[name=agreement]:checked");1==o.length?e(this).find('[type="submit"]').removeClass("disabled"):e(this).find('[type="submit"]').addClass("disabled")}),e(document).on("click",".view_applications",function(o){o.preventDefault();var n=e(this).data("application-id"),a=e(this).attr("href");e.post(nooMemberL10n.ajax_url,{action:"check_view_application",application_id:n},function(){window.location.href=a})}),e(document).on("click",".auto_create_order_free",function(o){o.preventDefault();var n=e(this).data("id"),a=e(this).data("package"),t=e(this).data("security"),r=e(this).data("url-package");e.post(nooMemberL10n.ajax_url,{action:"auto_create_order",user_id:n,package_id:a,security:t},function(){window.location.href=r})})})}(jQuery);