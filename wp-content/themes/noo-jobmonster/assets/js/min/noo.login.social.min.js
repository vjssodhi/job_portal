function random_pass(){for(var o="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;15>a;a++)o+=e.charAt(Math.floor(Math.random()*e.length));return o}jQuery(document).ready(function(o){function e(e){auth2.attachClickHandler(e,{},function(a){var i={action:"check_login",using:"gg",id:a.getBasicProfile().getEmail()};$this=o(e),o.post(nooSocial.ajax_url,i,function(e){if("ok"===e)o(".noo-ajax-result").show().html(nooSocial.msgLoginSuccessful),window.location.reload();else if("not user"===e)if("both"==nooSocial.allow){var i=o(".memberModalRegisterSocial");i.find(".register_social").hide(),i.find(".modal-header").css({background:"#cc3d2d","border-radius":"3px 2px 0 0"}),i.find(".close").css("color","#fff"),i.find(".modal-title").html(nooSocial.msgGoogleModalTitle).css("color","#fff"),i.find(".register-heading").show().html(nooSocial.msgHi+a.getBasicProfile().getName()).css({margin:"0px 0px 20px 0px"}),o(".memberModalLogin").modal("hide"),i.modal("show").removeClass("form-actions"),i.find('input[name="user_login"]').val(a.getBasicProfile().getEmail()),i.find('input[name="user_email"]').val(a.getBasicProfile().getEmail());var n=random_pass();i.find('input[name="user_password"]').val(n),i.find('input[name="cuser_password"]').val(n),i.find("form").append('<input type="hidden" class="using" name="using" value="gg" /><input type="hidden" class="using_id" name="using_id" value="'+a.getBasicProfile().getEmail()+'" />')}else{var l={};"employer"==nooSocial.allow?l={action:"create_user",id:a.getBasicProfile().getEmail(),name:a.Ld.ye,capabilities:"employer"}:"candidate"==nooSocial.allow&&(l={action:"create_user",id:a.getBasicProfile().getEmail(),name:a.Ld.ye,capabilities:"candidate"}),o.post(nooSocial.ajax_url,l,function(o){"ok"==o&&window.location.reload()})}else o(".noo-ajax-result").show().html(nooSocial.msgServerError)})},function(o){console.log(o)})}o(".button_socical").on("click",".fa-facebook-square",function(e){e.preventDefault();o(this);"undefined"!=typeof FB&&FB.login(function(e){if(e.authResponse){var a=e.authResponse.grantedScopes.split(",");-1!==a.indexOf("email")?FB.api("/me?fields=name,email",function(e){var a={action:"check_login",using:"fb",id:e.email};!e||e.error?o(".noo-ajax-result").show().html(nooSocial.msgMissingAppID):o.post(nooSocial.ajax_url,a,function(a){if("ok"===a)o(".noo-ajax-result").show().html(nooSocial.msgLoginSuccessful),window.location.reload();else if("not user"===a)if("both"==nooSocial.allow){var i=o(".memberModalRegisterSocial");i.find(".register_social").hide(),i.find(".modal-header").css({background:"#2952aa","border-radius":"3px 2px 0 0"}),i.find(".close").css("color","#fff"),i.find(".modal-title").html(nooSocial.msgFacebookModalTitle).css("color","#fff"),i.find(".register-heading").show().html(nooSocial.msgHi+e.name).css({margin:"0px 0px 20px 0px"}),o(".memberModalLogin").modal("hide"),i.modal("show").removeClass("form-actions"),i.find('input[name="user_login"]').val(e.email),i.find('input[name="user_email"]').val(e.email);var n=random_pass();i.find('input[name="user_password"]').val(n),i.find('input[name="cuser_password"]').val(n),i.find("form").append('<input type="hidden" class="using" name="using" value="fb" /><input type="hidden" class="using_id" name="using_id" value="'+e.email+'" />')}else{var l={};"employer"==nooSocial.allow?l={action:"create_user",id:e.email,name:e.name,capabilities:"employer"}:"candidate"==nooSocial.allow&&(l={action:"create_user",id:e.email,name:e.name,capabilities:"candidate",birthday:e.birthday,address:e.address}),o.post(nooSocial.ajax_url,l,function(o){"ok"==o&&window.location.reload()})}else o(".noo-ajax-result").show().html(nooSocial.msgServerError)})}):(o(".noo-ajax-result").show().html(nooSocial.msgMissingEmail),FB.api("/me/permissions","DELETE"))}else console.log("User cancelled login or did not fully authorize.")},{scope:"email",return_scopes:!0})});var a=function(){gapi.load("auth2",function(){var a=nooSocial.google_client_id;a=a.split(".")[0];var i=nooSocial.google_client_secret;auth2=gapi.auth2.init({client_id:a+".apps.googleusercontent.com",cookiepolicy:i}),o(".button_socical .fa-google-plus").each(function(){e(this.id)})})};""!==nooSocial.google_client_id&&a(),o(".button_socical").on("click",".fa-linkedin-square",function(e){e.preventDefault();o(this);IN.User.isAuthorized()?IN.API.Profile("me").fields("id","email-address","firstName","lastName").result(function(o){reques_api(o)}):(IN.UI.Authorize().place(),onLinkedInAuth=function(){IN.API.Profile("me").fields("id","email-address","firstName","lastName").result(function(o){reques_api(o)})},IN.Event.on(IN,"auth",onLinkedInAuth)),reques_api=function(e){var a=e.values[0].firstName+" "+e.values[0].lastName,i={action:"check_login",using:"linkedin",id:e.values[0].emailAddress};o.post(nooSocial.ajax_url,i,function(i){if("ok"===i)o(".noo-ajax-result").show().html(nooSocial.msgLoginSuccessful),window.location.reload();else if("not user"===i)if("both"==nooSocial.allow){var n=o(".memberModalRegisterSocial");n.find(".register_social").hide(),n.find(".modal-header").css({background:"#0077b4","border-radius":"3px 2px 0 0"}),n.find(".close").css("color","#fff"),n.find(".modal-title").html(nooSocial.msgLinkedInModalTitle).css("color","#fff"),n.find(".register-heading").show().html(nooSocial.msgHi+a).css({margin:"0px 0px 20px 0px"}),o(".memberModalLogin").modal("hide"),n.modal("show").removeClass("form-actions"),n.find('input[name="user_login"]').val(e.values[0].emailAddress),n.find('input[name="user_email"]').val(e.values[0].emailAddress);var l=random_pass();n.find('input[name="user_password"]').val(l),n.find('input[name="cuser_password"]').val(l),n.find("form").append('<input type="hidden" class="using" name="using" value="gg" /><input type="hidden" class="using_id" name="using_id" value="'+e.values[0].emailAddress+'" />')}else{var s={};"employer"==nooSocial.allow?s={action:"create_user",id:e.values[0].emailAddress,name:a,capabilities:"employer"}:"candidate"==nooSocial.allow&&(s={action:"create_user",id:e.values[0].emailAddress,name:a,capabilities:"candidate"}),o.post(nooSocial.ajax_url,s,function(o){"ok"==o&&window.location.reload()})}else o(".noo-ajax-result").show().html(nooSocial.msgServerError)})}}),1==nooSocial.using_register_email&&(o(".noo-ajax-register-form .user_login_container").hide(),o(".noo-ajax-register-form .user_email").change(function(){o(".noo-ajax-register-form .user_login").val(o(this).val())}))}),window.fbAsyncInit=function(){FB.init({appId:nooSocial.facebook_api,cookie:!0,xfbml:!0,version:"v2.5"})},""!==nooSocial.facebook_api&&!function(o,e,a){var i,n=o.getElementsByTagName(e)[0];o.getElementById(a)||(i=o.createElement(e),i.id=a,i.src="//connect.facebook.net/en_US/sdk.js",n.parentNode.insertBefore(i,n))}(document,"script","facebook-jssdk");