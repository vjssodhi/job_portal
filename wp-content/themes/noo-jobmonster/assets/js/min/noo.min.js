!function(e){"use strict";e.fn.nooLoadmore=function(a,o){var t={contentSelector:null,contentWrapper:null,nextSelector:"div.navigation a:first",navSelector:"div.navigation",itemSelector:"div.post",dataType:"html",finishedMsg:"<em>Congratulations, you've reached the end of the internet.</em>",loading:{speed:"fast",start:void 0},state:{isDuringAjax:!1,isInvalidPage:!1,isDestroyed:!1,isDone:!1,isPaused:!1,isBeyondMaxPage:!1,currPage:1}},a=e.extend(t,a);return this.each(function(){var t=this,n=e(this),s=n.find(".loadmore-wrap"),r=n.find(".loadmore-action"),i=r.find(".btn-loadmore"),l=r.find(".loadmore-loading");a.contentWrapper=a.contentWrapper||s;var c=function(e){if(e.match(/^(.*?)\b2\b(.*?$)/))e=e.match(/^(.*?)\b2\b(.*?$)/).slice(1);else if(e.match(/^(.*?)2(.*?$)/)){if(e.match(/^(.*?page=)2(\/.*|$)/))return e=e.match(/^(.*?page=)2(\/.*|$)/).slice(1);e=e.match(/^(.*?)2(.*?$)/).slice(1)}else{if(e.match(/^(.*?page=)1(\/.*|$)/))return e=e.match(/^(.*?page=)1(\/.*|$)/).slice(1);a.state.isInvalidPage=!0}return e};if(e(a.nextSelector).length){a.callback=function(t,n){o&&o.call(e(a.contentSelector)[0],t,a,n)},a.loading.start=a.loading.start||function(){i.hide(),e(a.navSelector).hide(),l.show(a.loading.speed,e.proxy(function(){d(a)},t))};var d=function(a){var o=e(a.nextSelector).attr("href");o=c(o);{var t,n,s,d,h;a.callback}return a.state.currPage++,void 0!==a.maxPage&&a.state.currPage>a.maxPage?(a.state.isBeyondMaxPage=!0,void 0):(t=o.join(a.state.currPage),s=e("<div/>"),s.load(t+" "+a.itemSelector,void 0,function(){if(d=s.children(),0===d.length)return i.hide(),r.append('<div style="margin-top:5px;">'+a.finishedMsg+"</div>").animate({opacity:1},2e3,function(){r.fadeOut(a.loading.speed)}),void 0;for(n=document.createDocumentFragment();s[0].firstChild;)n.appendChild(s[0].firstChild);e(a.contentWrapper)[0].appendChild(n),h=d.get(),l.hide(),i.show(a.loading.speed),a.callback(h)}),void 0)};i.on("click",function(o){o.stopPropagation(),o.preventDefault(),a.loading.start.call(e(a.contentWrapper)[0],a)})}})};var a=function(){var e=window,a="inner";return"innerWidth"in window||(a="client",e=document.documentElement||document.body),{width:e[a+"Width"],height:e[a+"Height"]}},o=function(){if(e(".navbar").length){var o=e(window),t=e("body"),n=e(".navbar").offset().top,s=0,r=e(".navbar"),i=e(".navbar").outerHeight(),l=0;t.hasClass("admin-bar")&&(l=e("#wpadminbar").outerHeight());var c=function(){if(a().width>992&&r.hasClass("fixed-top")){var c="navbar-fixed-top";r.hasClass("shrinkable")&&!t.hasClass("one-page-layout")&&(c+=" navbar-shrink");var d=n+i;if(o.scrollTop()+l>d){if(r.hasClass("navbar-fixed-top"))return;if(!r.hasClass("navbar-fixed-top"))return s=i,e(".navbar-wrapper").css({"min-height":s+"px"}),r.closest(".noo-header").css({position:"relative"}),r.addClass(c).css("top",0-s).animate({top:l},300),void 0}else{if(!r.hasClass("navbar-fixed-top"))return;r.removeClass(c),r.css({top:""}),e(".navbar-wrapper").css({"min-height":"none"}),r.closest(".noo-header").css({position:""})}}};o.bind("scroll",c).resize(c),t.hasClass("one-page-layout")&&(e('.navbar-scrollspy > .nav > li > a[href^="#"]').click(function(a){a.preventDefault();var o=e(this).attr("href").replace(/.*(?=#[^\s]+$)/,"");if(o&&e(o).length){var t=Math.max(0,e(o).offset().top);t=Math.max(0,t-(l+e(".navbar").outerHeight())+5),e("html, body").animate({scrollTop:t},{duration:800,easing:"easeInOutCubic",complete:window.reflow})}}),t.scrollspy({target:".navbar-scrollspy",offset:l+e(".navbar").outerHeight()}),e(window).resize(function(){t.scrollspy("refresh")}))}e(".noo-slider-revolution-container .noo-slider-scroll-bottom").click(function(a){a.preventDefault();var o=e(".noo-slider-revolution-container").outerHeight();e("html, body").animate({scrollTop:o},900,"easeInOutExpo")}),e("body").on("mouseenter",".masonry-style-elevated .masonry-portfolio.no-gap .masonry-item",function(){e(this).closest(".masonry-container").find(".masonry-overlay").show(),e(this).addClass("masonry-item-hover")}),e("body").on("mouseleave ",".masonry-style-elevated .masonry-portfolio.no-gap .masonry-item",function(){e(this).closest(".masonry-container").find(".masonry-overlay").hide(),e(this).removeClass("masonry-item-hover")}),e(".masonry").each(function(){var a=e(this),o=e(this).find(".masonry-container"),t=e(this).find(".masonry-filters a");o.isotope({itemSelector:".masonry-item",transitionDuration:"0.8s",masonry:{gutter:0}}),imagesLoaded(a,function(){o.isotope("layout")}),t.click(function(e){e.stopPropagation(),e.preventDefault();var t=jQuery(this);if(t.hasClass("selected"))return!1;a.find(".masonry-result h3").text(t.text());var n=t.closest("ul");n.find(".selected").removeClass("selected"),t.addClass("selected");var s={layoutMode:"masonry",transitionDuration:"0.8s",masonry:{gutter:0}},r=n.attr("data-option-key"),i=t.attr("data-option-value");i="false"===i?!1:i,s[r]=i,o.isotope(s)})}),e("a[data-vc-tabs]").on("show.vc.tab shown.bs.tab",function(a){var o=e(e(a.target).attr("href"));o.find(".masonry-container").length&&o.find(".masonry-container").each(function(){e(this).isotope({itemSelector:".masonry-item",transitionDuration:"0.8s",masonry:{gutter:0}})})}),e(window).scroll(function(){e(this).scrollTop()>500?e(".go-to-top").addClass("on"):e(".go-to-top").removeClass("on")}),e("body").on("click",".go-to-top",function(){return e("html, body").animate({scrollTop:0},800),!1}),e("body").on("click",".search-button",function(){return e(".searchbar").hasClass("hide")&&(e(".searchbar").removeClass("hide").addClass("show"),e(".searchbar #s").focus()),!1}),e("body").on("mousedown",e.proxy(function(a){var o=e(a.target);o.is(".searchbar")||0!==o.parents(".searchbar").length||e(".searchbar").removeClass("show").addClass("hide")},this))};e(document).ready(function(){e(".mc-subscribe-form").submit(function(a){a.preventDefault();var o=e(this),t=o.serializeArray();o.find("label.noo-message").remove(),e.ajax({type:"POST",url:nooL10n.ajax_url,data:t,success:function(a){var t=e.parseJSON(a),n="";t.success?""!==t.data&&(n='<label class="noo-message error" role="alert">'+t.data+"</label>",o.addClass("submited"),o.html(n)):""!==t.data&&(o.removeClass("submited"),e('<label class="noo-message" role="alert">'+t.data+"</label>").prependTo(o))},error:function(){}})}),e('[data-toggle="tooltip"]').tooltip(),e(".form-control-chosen").chosen({placeholder_text_multiple:nooL10n.chosen_multiple_text,placeholder_text_single:nooL10n.chosen_single_text,no_result_text:nooL10n.chosen_no_result_text}),e(".noo-user-navbar-collapse").on("show.bs.collapse",function(){e(".noo-navbar-collapse").hasClass("in")&&e(".noo-navbar-collapse").collapse("hide")}),e(".noo-navbar-collapse").on("show.bs.collapse",function(){e(".noo-user-navbar-collapse").hasClass("in")&&e(".noo-user-navbar-collapse").collapse("hide")}),o()}),e(document).bind("noo-layout-changed",function(){o()})}(jQuery);